<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        window.onload = init;

        function init() {
            var btn1 = document.querySelector("button:nth-of-type(1)");
            var btn2 = document.querySelector("button:nth-of-type(2)");
            var btn3 = document.querySelector("button:nth-of-type(3)");
            var btn4 = document.querySelector("button:nth-of-type(4)");
            var btn5 = document.querySelector("button:nth-of-type(5)");
            var here = document.querySelector("#here");

            btn1.onclick = f_btn1;
            btn2.onclick = f_btn2;
            btn3.onclick = f_btn3;
            btn4.onclick = f_btn4;
            btn5.onclick = f_btn5;

            function f_btn1() {
                here.innerHTML = "<h1>innerHTML</h1>";
            }

            function f_btn2() {
                here.innerText = "<h1>innerText</h1>";
            }

            function f_btn3() {
                var output;
                // output = document.getElementById("redcup").getAttribute("src");
                // output = document.getElementsByClassName("redcup")[0].getAttribute("src");
                output = document.querySelector("#redcup").getAttribute("src")

                if (output == "../Doit_src/17/images/cup-1.png") {
                    num = 2;
                } else {
                    num = 1;
                }
                document.querySelector("#redcup").setAttribute("src", `../Doit_src/17/images/cup-${num}.png`)
                here.innerHTML = output;
            }
            function f_btn4() {
                alert(this.innerText);
                btn4.onclick = null;
            }

            function f_btn5() {
                btn3.onclick();  // 이벤트 호출
            }

            var frm = document.querySelector("#myfrm");
            var div = document.querySelector("#mydiv");
            var h1 = document.querySelector("#myh1");
            
            frm.onsubmit = f_frmcheck;

            div.onclick = function () { alert('div') };
            h1.onclick = function (event2) {
                alert('h1 inner div')
                event2.stopPropagation();
            };

            function f_frmcheck() {
                var userid = document.querySelector("#userid").value;
                alert("no")
                if (userid != 'admin') return false;  // default 전송 취소
            }

            var div2 = document.querySelector("#mydiv2");
            var h12 = document.querySelector("#myh12");

            div2.addEventListener("click", function(){alert("div2!")}, false);  // 버블링 default = false
            h12.addEventListener("click", bb(event), false);  // 버블링 default = false

            function bb(event){
                alert("h12!");
                event.stopPropagation;
            }
        }

    </script>
    <style>
        /* div, div h1, span {
            border: 1px solid gray;
            padding: 5px;
        } */
    </style>
</head>

<body>
    <h1>JS DOM</h1>
    <button class="btn btn-primary">innerHTML</button>
    <button class="btn btn-primary">innerText</button>
    <button class="btn btn-primary">속성 접근</button>
    <button class="btn btn-primary">이벤트 지우기</button>
    <button class="btn btn-primary">이벤트 호출</button>
    <br>
    <br>
    <img id="redcup" class="redcup" src="../Doit_src/17/images/cup-1.png" alt="red cup">
    <hr>
    <hr>
    <form action="js_fuction01.html" id="myfrm">
        아이디: <input id="userid">
        <input type="submit" value="서버에 전송">
        <button>서버에 전송2(submit과 같음)</button>
        <input type="button" onclick="alert('button')" value="form내의 button">
    </form>
    <hr>
    <div onclick="alert('outter div')">
        <div onclick="alert('inner div')">
            <h1 onclick="alert('h1');event.stopPropagation()">
                이벤트의 <span onclick="alert('span')">버블링</span>과 캡처링 연습하기
            </h1>
        </div>
    </div>
    <hr>
    <div id="mydiv">
        <h1 id="myh1">Test</h1>
    </div>
    <hr>
    <div id="mydiv2">
        <h1 id="myh12">Bubbling</h1>
    </div>
    <hr>
    <div id="here">here</div>
</body>

</html>